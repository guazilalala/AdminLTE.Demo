@model List<AdminLTE.Demo.Application.MenuApp.Dtos.MenuDto>

@*<ul class="sidebar-menu">
    <li class="header">主导航</li>
        <li class="active treeview">
            <a href="#">
                <i class="fa fa-dashboard"></i> <span>权限管理</span>
                <span class="pull-right-container">
                    <i class="fa fa-angle-left pull-right"></i>
                </span>
            </a>
            <ul class="treeview-menu">
                <li ><a href="Department"><i class="fa fa-circle-o"></i> 组织机构管理</a></li>
                <li ><a href="User"><i class="fa fa-circle-o"></i> 用户管理</a></li>
                <li ><a href="Role"><i class="fa fa-circle-o"></i> 角色管理</a></li>
                <li ><a href="Menu"><i class="fa fa-circle-o"></i> 功能管理</a></li>
            </ul>
        </li>
    </ul>*@
@foreach (var menu in Model)
{
    var isActive = ViewBag.CurrentMenu == menu.Code; //判断当前功能是否处于激活

    if (menu.ParentId == Guid.Parse("00000000-0000-0000-0000-000000000000"))
    {

        <li class="active treeview">
            <a><i class="@menu.Icon"></i> <span>@menu.Name</span></a>
            <ul class="treeview-menu">
                @foreach (var subItem in Model)
                {
                    isActive = ViewBag.CurrentMenu == subItem.Code; //判断当前功能是否处于激活

                    if (subItem.ParentId == menu.Id)
                    {
                        <li class="@(isActive ? "active" : "")"><a href="@subItem.Url"><i class="@subItem.Icon"></i> <span>@subItem.Name</span></a></li>
                    }
                }
            </ul>
        </li>

    }
}
